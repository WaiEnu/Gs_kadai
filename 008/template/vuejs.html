</main>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script>
new Vue({
  el: "#app",
  data: {
    name:"名無しさん",
    email:"sample@email.jp",
    counter: 0,
    score: 0,
    isInit: true,
    isGameOver: false,
    isClear: false,
    hasNext: true,
    isForm: false,
    quiz: [
      {
        text: "周りを見渡す",
        option1: "yes",
        option2:  "no",
        collect: 0,
        gameover: "敵に食われた。",
        endFlg: 0
      },
      {
        text: "何かに気づく",
        option1: "近づく",
        option2:  "逃げる",
        collect: 1,
        gameover: "敵に食われた。",
        endFlg: 0
      },
      {
        text: "食べ物を探す",
        option1: "匂いのする方",
        option2:  "音のする方",
        collect: 0,
        gameover: "食べ物がみつからない。",
        endFlg: 0
      },
      {
        text: "魚が来たぞ。でっかいな。",
        option1: "近づく",
        option2:  "近づかない",
        collect: 1,
        gameover: "魚に食われた。",
        endFlg: 0
      },
      {
        text: "ここになんか入口があるぞ",
        option1: "入る",
        option2:  "入らない",
        collect: 1,
        gameover: "食虫植物の捕虫器だった。食われた",
        endFlg: 0
      },
      {
        text: "暖かくなってきた",
        option1: "移動",
        option2:  "寝る",
        collect: 0,
        gameover: "ここ、温泉だった。熱くて生きられない。",
        endFlg: 0
      },
      {
        text: "水の流れが強くなってきた。流されるままに行こうか？",
        option1: "yes",
        option2:  "no",
        collect: 1,
        gameover: "川岸に打ち上げられた。",
        endFlg: 0
      },
      {
        text: "逃げてばかりなので必殺技を考えよう。取り合えず角をはやす。",
        option1: "yes",
        option2:  "no",
        collect: 1,
        gameover: "角をはやすのに二十四時間...。そのうちに食われた。",
        endFlg: 0
      },
      {
        text: "水の上には何があるんだろう...。行ってみる？",
        option1: "yes",
        option2:  "no",
        collect: 1,
        gameover: "水中でしか生きられないの忘れてた。",
        endFlg: 0
      },
      {
        text: "寒くなってきた…冬眠する？",
        option1: "yes",
        option2: "no",
        collect: 1,
        gameover: "水が凍った。",
        endFlg: 1
      }
    ],
    endMessage:"そして、新天地へ...。",
    endOption:"Congraduation!",

  },
  computed: {
    question: function() {
      return this.quiz[this.counter].text;
    },
    option: function() {
      var item1=this.quiz[this.counter].option1;
      var item2=this.quiz[this.counter].option2;
      return [item1,item2];
    },
    isEnd: function() {
      var length = this.quiz.length;
      return length;
    },
  },
  methods: {
    start: function(){
      this.isInit= false;
    },
    quizSet: function(value) {
      if (value === this.quiz[this.counter].collect) {
        this.score = this.score+10;
        this.counter++;
        if (this.counter>this.isEnd) {
          this.isClear = true;
          this.hasNext = false;
        }
      } else {
        this.isGameOver = true;
        this.hasNext = false;
        this.gameover = this.quiz[this.counter].gameover;
        this.counter = 0;
      }
    },
    continueYes: function() {
      this.isGameOver = false;
      this.isClear = false;
      this.hasNext = true;
      this.isForm=false;
      this.score = 0;
      this.counter = 0;
    },
    continueNo: function() {
      this.isForm=true;
    },
  }
});
</script>